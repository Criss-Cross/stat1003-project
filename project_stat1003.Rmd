---
title: "stat1003 project"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
immunisation_step <- subset(Book2, Book2$...4 == '2016-17')
i_data <- subset(immunisation_step, immunisation_step$...5 == '1 year')

a <- subset(Book3, Book3$...4 == '2016-17')
i_data_2 <- subset(a, a$...5 == '1 year')
# extracting the data on babies in 2016-2017, the data we want
```

```{r}
colnames(i_data)[1] <- 'State'
colnames(i_data)[2] <- 'Postcode'
colnames(i_data)[3] <- 'Associated residential area'
colnames(i_data)[4] <- 'Reporting year'
colnames(i_data)[5] <- 'Age group'
colnames(i_data)[6] <- 'Percent fully immunised (%)'
# renaming the columns in the i_data set so that they make sense
```


```{r}
colnames(i_data_2)[1] <- 'State'
colnames(i_data_2)[2] <- 'SA3 code'
colnames(i_data_2)[3] <- 'SA3 name'
colnames(i_data_2)[4] <- 'Reporting year'
colnames(i_data_2)[5] <- 'Age group'
colnames(i_data_2)[6] <- 'Number of registered children'
colnames(i_data_2)[7] <- 'Number fully immunised'
colnames(i_data_2)[8] <- 'Number not fully immunised'
colnames(i_data_2)[9] <- 'Percent fully immunised (%)'
# renaming the columns in the i_data_2 set so that they make sense
```

```{r}
# Data cleaning for religion, done 18/4/2019

Religion <- X2016Census_G14_AUS_SA3
rm(X2016Census_G14_AUS_SA3)

library(dplyr)
Religion <- select(Religion, 1:1, contains("_P"))

Religion$Buddhism <- Religion$Buddhism_P
Religion$Hinduism <- Religion$Hinduism_P
Religion$Islam <- Religion$Islam_P
Religion$Judaism <- Religion$Judaism_P
Religion$Sikhism <- Religion$Othr_Rel_Sikhism_P
Religion$AboriginalTrad <- Religion$Othr_Rel_Aust_Abor_Trad_Rel_P
Religion$NoReligionAndSecular <- Religion$SB_OSB_NRA_NR_P + Religion$SB_OSB_NRA_SB_P
Religion$Other <- Religion$SB_OSB_NRA_OSB_P + Religion$Othr_Reln_Other_reln_groups_P
Religion$NotStated <- Religion$Religious_affiliation_ns_P
Religion$JehovahWitness <- Religion$Christinty_Jehvahs_Witnses_P
Religion$LatterDaySaints <- Religion$Christianity_Lattr_day_Snts_P
Religion$Catholic <- Religion$Christianity_Catholic_P
Religion$EasternChristian <- Religion$Christianity_Asyrin_Apstlic_P + Religion$Christianity_Eastrn_Orthdox_P + Religion$Christianity_Orintal_Orthdx_P
Religion$Protestant <- Religion$Christianity_Anglican_P + Religion$Christianity_Baptist_P + Religion$Christianity_Brethren_P + Religion$Christianity_Church_Christ_P + Religion$Christianity_Lutheran_P + Religion$Christianity_Othr_Protestnt_P + Religion$Christianity_Pentecostal_P + Religion$Christinty_Prsbytrin_Refrmd_P + Religion$Christianity_Salvation_Army_P + Religion$Christnty_Sevnth_dy_Advntst_P + Religion$Christianity_Uniting_Church_P
Religion$OtherChristian <- Religion$Christianity_Christian_nfd_P + Religion$Christianity_Othr_Christian_P

Religion <- select(Religion, -contains("_"))
```

```{r}
library(dplyr)
income_1 <- select(G55A,1:1,contains("_Tot"))
income_2 <- select(G55B,1:1, contains("_Tot"))
income <- merge(income_1, income_2)
rm(income_1)
rm(income_2)
rm(G55A)
rm(G55B)
income_a <- select(G56A,1:1, contains("_Tot"))
income_b <- select(G56B,1:1, contains("_Tot"))
income_1 <- merge(income_a, income_b)
income_2 <- select(income_1, -contains('UnE_lfw'))
Income <- merge(income_2, income, by='SA3_CODE_2016')
#combining all of the income stuff into a single data frame
```
```{r}
rm(income_a)
rm(income_b)
rm(income_1)
rm(income_2)
```

```{r}
sum(Income$NegNil_inc_Tot, Income$NegNil_Inc_Tot) # failed attempt to sum
```

```{r}
F_Income <- as.data.frame(t(rowsum(t(Income), group = rownames(t(Income)))))
# A copy of Income where all the like columns are next to each other 
Income_copy <- Income     # just incase we need the original

Income$Income_NS <- Income$All_inc_NS_Tot.x + Income$All_inc_NS_Tot.y
Income$Tot_1_149 <- Income$I_1_149_Tot.x + Income$I_1_149_Tot.y
Income$Tot_1000_1249 <- Income$I_1000_1249_Tot.x +
Income$Tot_1000_1249 <- Income$I_1000_1249_Tot.x + Income$I_1000_1249_Tot.y
Income$Tot_1250_1499 <- Income$I_1250_1499_Tot.x + Income$I_1250_1499_Tot.y
Income$Tot_150_299 <- Income$I_150_299_Tot.x + Income$I_150_299_Tot.y
Income$Tot_1500_1749 <- Income$I_1500_1749_Tot.x + Income$I_1500_1749_Tot.y
Income$Tot_1750_1999 <- Income$I_1750_1999_Tot.x + Income$I_1750_1999_Tot.y
Income$Tot_2000_2499 <- Income$I_2000_2499_Tot.x + Income$I_2000_2499_Tot.y
Income$Tot_2500_2999 <- Income$I_2500_2999_Tot.x + Income$I_2500_2999_Tot.y
Income$Tot_300_399 <- Income$I_300_399_Tot.x + Income$I_300_399_Tot.y
Income$Tot_3000_3499 <- Income$I_3000_3499_Tot.x + Income$I_3000_3499_Tot.y
Income$Tot_3500_399 <- Income$I_3500_3999_Tot.x + Income$I_3500_3999_Tot.y
Income$Tot_400_499 <- Income$I_400_499_Tot.x + Income$I_400_499_Tot.y
Income$Tot_4000more <- Income$I_4000more_Tot.x + Income$I_4000more_Tot.y
Income$Tot_500_649 <- Income$I_500_649_Tot.x + Income$I_500_649_Tot.y
Income$Tot_650_799 <- Income$I_650_799_Tot.x + Income$I_650_799_Tot.y
Income$Tot_800_999 <- Income$I_800_999_Tot.x + Income$I_800_999_Tot.y
Income$Tot_NegNil <- Income$NegNil_inc_Tot + Income$NegNil_Inc_Tot
# summing all of the columns from G55 and G56 that had similar data
library(dplyr)
list.x <- select(Income, contains('.x'))
list.y <- select(Income, contains('.y'))
names.x <- c(colnames(list.x))
names.y <- c(colnames(list.y))
Income.x <- Income[, !colnames(Income) %in% names.x]
Income_Tot <- Income.x[, !colnames(Income.x) %in% names.y]
# removing all of the doubled up columns that I just summed
```

```{r}
rm(Income.x)
rm(names.x)
rm(names.y)
rm(list.x)
rm(list.y)
```

